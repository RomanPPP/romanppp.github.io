<canvas id="canvas" style = "width:100vw; height : 100vh"></canvas>
<div id="uiContainer">
  <div id="ui">
    <div id="x"></div>
    <div id="y"></div>
  </div>
</div>
<style>
  body{
    margin:0;
    padding: 0;
    background-color: white;
  }
</style>
<!-- vertex shader -->
<script id = "vertex_terrain" type="x-shader/x-vertex" >
  attribute vec4 a_position;
  
</script>
<script id="vertex-shader-3d" type="x-shader/x-vertex">
  attribute vec4 a_position;
  attribute vec3 a_normal;

  uniform mat4 u_matrix;
  uniform mat4 u_world;
  varying vec3 v_normal;
  uniform vec3 u_lightWorldPosition;
  varying vec3 v_surfaceToLight;
  uniform mat4 u_worldInverseTranspose;
    
  void main() {

      vec3 surfaceWorldPosition = (u_world * a_position).xyz;
      gl_Position = u_matrix * a_position;
    
      v_normal  = mat3(u_worldInverseTranspose) *  a_normal;
      
 
  
      v_surfaceToLight = u_lightWorldPosition - surfaceWorldPosition;
      
  }
</script>

<!-- fragment shader -->
<script  id="fragment-shader-3d" type="x-shader/x-fragment">
  precision mediump float;
 
// Передаётся из вершинного шейдера
varying vec3 v_normal;
varying vec3 v_surfaceToLight;
 

uniform vec4 u_color;
 
void main() {
  vec3 normal = normalize(v_normal);
 
  vec3 surfaceToLightDirection = normalize(v_surfaceToLight);
 
 
  float light = dot(normal, surfaceToLightDirection);
 
  gl_FragColor = u_color;
 
  
  gl_FragColor.rgb *= light;
}
</script>
<script>
  var canvas = document.querySelector("#canvas");
    var gl = canvas.getContext("webgl");
    if (!gl) {
      console.log('No webGl')
    }
    
    gl.enable(gl.DEPTH_TEST);
    
    
</script>
<script type="text/javascript" src="dist/bundle.js"></script>
